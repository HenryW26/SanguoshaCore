三国杀是一个多人游戏。

这个游戏分三个阶段：

1. 游戏开始阶段
3. 游戏进行中阶段
3. 游戏结束阶段

游戏开始阶段
-----------

首先大家选择自己的 **身份** ，可供选择的身份有 主公、忠臣、内奸、反贼四个。

选择主公的玩家亮明身份，其他玩家保持身份的秘密。

然后给5张将牌给主公选择。主公选择完毕之后，给每个人三张奖牌。

然后每个人会给予初始手牌4张。

首先出牌者是主公。

游戏进行中阶段
---------------

游戏中按照逆时针顺序，每人轮流摸牌出牌。这个机会称之为 **回合** 。某人正在摸牌出牌称之为 **某人的回合** 。

其中，若某角色被判定死亡，则检查是否满足游戏结束条件，若满足，则游戏结束。否则游戏进行。

游戏结束阶段
----------

显示胜利方。

判定游戏结束的条件
----------------

若主公死亡，则 

1. 若此时有反贼存活，则反贼胜利
3. 若此时无反贼存活，则
 1. 若此时有内奸存活，则继续游戏
 3. 若此时无内奸存活，则主公和忠臣胜利

2. 若反贼死亡，则
 1. 若此时还有其他反贼存活，则游戏继续
 2. 若此时没有其他反贼存活，则内奸存活继续，否则主公和忠臣胜利

3. 若内奸死亡，则
 1. 若忠臣或反贼还有存活者，则游戏继续
 2. 否则，主公和忠臣胜利

回合
------

回合按照时间顺序分为以下几个步骤

1. 回合牵技能发动阶段

如甄姬的洛神和诸葛的观星。

2. 判定阶段

如乐不思蜀和闪电的判定



3. 摸牌阶段

每个人都可以摸两张牌，如果被技能限制了，有可能不能摸牌

4. 摸牌技能发动阶段

如周瑜的英姿

4. 出牌阶段

如被技能限制有可能跳过出牌阶段
如被乐不思蜀

5. 回合结束技能发动阶段

如貂蝉的闭月

出牌阶段
---------

出牌阶段时最复杂的。

主动动作和触发动作
-------------

主动的含义是可以选择的，触发的含义是被动接受的。

如杀人，可以主动出杀，但对方则被动响应。响应时是否出闪是主动的。

动作
-----------

动作的产生有两种，主动产生和触发产生。

动作前判断：
是否可以进行动作，如不能则动作结束。
如回合内已经进行一次杀，无武器，无特殊技能，则不能再次出杀。

动作目标指定：
动作的目标有三种：

1. 自己的牌（可多张）
2. 别人（可多人）
3. 别人的牌（0到多张）
4. 牌堆里的牌

除了诸葛的观星，别的都可以囊括

比如：
杀
自己的牌，是某张杀
别人，是被杀者

闪
自己的某张闪
杀人者

过河拆桥
自己的某张牌
别人
别人的某张牌

玩家的属性
-------

1. 身份
2. 将
3. 血量
4. 手牌
5. 判定区的牌
6. 装备区的牌
7. 是否横置

牌的属性
----------

1. 类型（基本牌、锦囊牌、武器牌）
1. 点数
2. 花色
3. 功用
3. 实际功用

简化三国杀
---------

我觉得，三国杀过于复杂，但咱们可以先从最简单的可以做起，逐步增加难度，所以，有必要将三国杀简化一下：

牌只有基本牌（杀、闪、桃），无花色，无点数

角色无技能

有血量分别

有身份

咱们先做这个吧